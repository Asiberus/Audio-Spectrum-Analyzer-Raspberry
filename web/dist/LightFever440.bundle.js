window.LightFever440=function(){"use strict";var e={872:function(e,t){function s(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dom={toggle:document.getElementById("toggle-light-fever"),manual:document.getElementById("manual-mode"),analyzer:document.getElementById("analyzer-mode"),selection:document.getElementById("selection-border"),manualContainer:document.getElementById("manual-container"),autoContainer:document.getElementById("auto-container"),themeSwitch:document.getElementById("theme-switch")},this._isActive=!1,this._isManual=!0,this._isDark=!0,this._events()}var t,i;return t=e,(i=[{key:"_events",value:function(){this._dom.toggle.addEventListener("click",this._toggleLightFever.bind(this)),this._dom.manual.addEventListener("click",this._switchMode.bind(this)),this._dom.analyzer.addEventListener("click",this._switchMode.bind(this)),this._dom.themeSwitch.addEventListener("click",this._switchTheme.bind(this))}},{key:"_toggleLightFever",value:function(){!1===this._isActive?(this._isActive=!0,this._dom.toggle.innerHTML="ON",this._dom.toggle.classList.remove("light-fever-off"),this._dom.toggle.classList.add("light-fever-on"),this._startLightFever()):(this._isActive=!1,this._dom.toggle.innerHTML="OFF",this._dom.toggle.classList.remove("light-fever-on"),this._dom.toggle.classList.add("light-fever-off"),this._stopLightFever())}},{key:"_startLightFever",value:function(){this.ajax({type:"POST",url:"action",data:{action:"ON"},success:function(e){console.log("Strip led successfuly started")},error:function(e){console.warn("Something went wrong",e)}})}},{key:"_stopLightFever",value:function(){this.ajax({type:"POST",url:"action",data:{action:"OFF"},success:function(e){console.log("Strip led successfuly stoped")},error:function(e){console.warn("Something went wrong",e)}})}},{key:"_switchMode",value:function(e){"false"===e.target.dataset.manual?(this._isManual=!1,this._dom.manual.classList.remove("selected"),this._dom.analyzer.classList.add("selected"),this._dom.selection.style.left="50%",this._dom.manualContainer.style.left="-100%",this._dom.autoContainer.style.left="0"):(this._isManual=!0,this._dom.analyzer.classList.remove("selected"),this._dom.manual.classList.add("selected"),this._dom.selection.style.left="0",this._dom.manualContainer.style.left="0",this._dom.autoContainer.style.left="100%")}},{key:"_switchTheme",value:function(e){!0===e.target.checked?(this._isDark=!1,document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme")):(this._isDark=!0,document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"))}},{key:"ajax",value:function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4!==this.readyState||200!==this.status&&204!==this.status)4!==this.readyState||200===this.status&&204===this.status||e.hasOwnProperty("error")&&"function"==typeof e.error&&e.error(this.status);else if(e.hasOwnProperty("success")&&"function"==typeof e.success){var t=this.responseText?JSON.parse(this.responseText):null;e.success(t)}};var s=e.type.toUpperCase();t.open(s,e.url,!0),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.setRequestHeader("Accept","application/json"),"POST"===s?t.send(JSON.stringify(e.data)):t.send()}}])&&s(t.prototype,i),e}();t.default=i}},t={};return function s(i){if(t[i])return t[i].exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}(872)}().default;